import numpy as np
import matplotlib.pyplot as plt
from Practice.heatmap.image_annotated_heatmap import heatmap, annotate_heatmap

# label = ['Stay at Home','Home-to-Work','Home-to-Other','Stay at Work','Work-to-Home',
#                      'Work-to-Other','Stay at Other','Other-to-Home','Other-to-Work','Other-to-Other']
label = ['Stay at Home','Home-to-Other',
                     'Stay at Other','Other-to-Home','Other-to-Other']

# trans_ls = [[0.36065573770491804, 0.6229508196721312, 0.01639344262295082, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.9950738916256158, 0.0049261083743842365, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.8, 0.2, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]]
# trans_ls = [[1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.53125, 0.40625, 0.0625, 0.0, 0.0, 0.0, 0.0], [1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.1, 0.4, 0.5, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.8611111111111112, 0.05555555555555555, 0.05555555555555555, 0.027777777777777776], [1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]]
# trans_ls = [[0.8852459016393442, 0.11475409836065574, 0.0, 0.0, 0.0], [0.0, 0.0, 0.28125, 0.0, 0.71875], [0.0, 0.0, 0.9090909090909091, 0.024242424242424242, 0.06666666666666667], [0.0, 1.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.925, 0.0, 0.075]]
trans_ls = [[0.2857142857142857, 0.7142857142857143, 0.0, 0.0, 0.0], [0.0, 0.0, 0.18518518518518517, 0.6666666666666666, 0.14814814814814814], [0.0, 0.0, 0.6901408450704225, 0.1267605633802817, 0.18309859154929578], [1.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.5652173913043478, 0.34782608695652173, 0.08695652173913043]]


trans_MX = np.array(trans_ls)
# print(trans_MX)


fig, ax = plt.subplots(figsize = (8,6)) #Non-  Morning Evening
im, cbar = heatmap(trans_MX, label, label, title="Non-commuter's Evening", cmap = 'Reds', cbarlabel="Transition Probability")
texts = annotate_heatmap(im,threshold=0.5)

plt.tick_params(labelsize=18)
fig.tight_layout()
plt.savefig(r'G:\Program\Pycharm Projects\File of Python3\SCD_System\result\TransProbability_NC_E.eps', dpi=150)
plt.show()